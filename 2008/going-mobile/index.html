<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<title>Going mobile</title>
<meta name=description content="Nathan Borror is a generalist with over twenty years experience designing and building software at Facebook, Dropbox and for the open source community in Northern California.">
<meta name=google-site-verification content="i4sGwkgg8BSJpZ7YlCqBXlRRO8xyHBO7whPUtJ51Xoc">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Going mobile">
<meta property="og:description" content="Over the weekend, I decided to whip up a mobile (iPhone) version of Playground Blues. I walked into Broadway Cafe around 3pm on Saturday, and by 5:30, I had m.playgroundblues.com. Here&rsquo;s how it went down.
Step 1 Since I&rsquo;m still using Dreamhost and FastCGI, I created my .htaccess file along with my dispatch.fcgi file for my new sub-domain as usual. Made one little change to my dispatch file: instead of having DJANGO_SETTINGS_MODULE pointing to playgroundblues.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://nathan.run/2008/going-mobile/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2008-02-18T00:00:00-08:00">
<meta property="article:modified_time" content="2008-02-18T00:00:00-08:00">
<link rel=apple-touch-icon href=https://nathan.run/images/apple-touch-icon.png>
<link rel="shortcut icon" href=https://nathan.run/images/favicon.ico>
<link rel=stylesheet type=text/css href=https://nathan.run/styles/screen.css>
<link rel=stylesheet type=text/css href=https://nathan.run/styles/responsive.css>
<link rel=alternate type=application/atom+xml href=https://nathan.run/posts/index.xml>
<link rel=alternate type=application/json href=https://nathan.run/posts/index.json>
</head>
<body>
<header>
<h1>Going mobile</h1>
<h2>Monday, February 18, 2008</h2>
</header>
<main>
<article>
<p>Over the weekend, I decided to whip up a mobile (iPhone) version of Playground Blues. I walked into Broadway Cafe around 3pm on Saturday, and by 5:30, I had m.playgroundblues.com. Here&rsquo;s how it went down.</p>
<h3 id=step-1>Step 1</h3>
<p>Since I&rsquo;m still using Dreamhost and FastCGI, I created my .htaccess file along with my dispatch.fcgi file for my new sub-domain as usual. Made one little change to my dispatch file: instead of having <code>DJANGO_SETTINGS_MODULE</code> pointing to playgroundblues.settings, I pointed it to playgroundblues.settings_mobile.</p>
<p>Then, in my project folder, I made a duplicate of my settings file and renamed it to <code>settings_mobile.py.</code> Let me emphasize again, this is a duplicate.</p>
<h3 id=step-2>Step 2</h3>
<p>Created a new templates folder and named it &ldquo;templates_mobile.&rdquo; Opened up my <code>settings_mobile.py</code> file and added a new line to the top of my <code>TEMPLATE_DIRS</code> tuple. This tells Django to first look in mobile templates, and if the template doesn&rsquo;t exist, fall back on regular site templates. (Remember, this is only for my mobile site.)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>TEMPLATE_DIRS <span style=color:#f92672>=</span> (
  <span style=color:#e6db74>&#34;/home/playgroundblues/templates_mobile/&#34;</span>,
  <span style=color:#e6db74>&#34;/home/playgroundblues/templates/&#34;</span>,
)
</code></pre></div><h3 id=step-3>Step 3</h3>
<p>In my new templates_mobile folder, I created a new base template called <code>base_mobile.html</code> which I&rsquo;ll use to extend in all my child templates instead of the main sites base.html. Then I went through the sites pages and recreated mirrored templates in the mobile folder. So <code>/templates/blog/post_detail.html</code> was overwritten by <code>/templates_mobile/blog/post_detail.html.</code> I stripped out extraneous content that was unnecessary for someone on the go, leaving core content and functionality.</p>
<p>The nice thing is if someone happens to creep into a section that you haven&rsquo;t gotten to (as long as you didn&rsquo;t override base.html), your site will display as it would on a computer proper. If there&rsquo;s a more succinct way of doing this, please let me know.</p>
<ul class=pivots>
<li><a class=previous href=https://nathan.run/2008/iphone-bookmark-iconage/>← iPhone bookmark iconage</a></li>
<li><a class=next href=https://nathan.run/2008/gadget-fast/>Gadget fast →</a></li>
</ul>
</article>
</main>
<footer>
<ul>
<li><a href=https://nathan.run/>Home</a></li>
<li><a href=https://nathan.run/work>Work</a></li>
<li><a href=https://nathan.run/posts>Writing</a></li>
<li><a href=https://nathan.run/tools>Tools</a></li>
<li><a href=https://nathan.run/interests>Interests</a></li>
<li><a href=https://nathan.run/california>California</a></li>
<li><a href=https://nathan.run/recipes>Recipes</a></li>
</ul>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8M8T2ECMHC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-8M8T2ECMHC',{anonymize_ip:!1})}</script>
</body>
</html>