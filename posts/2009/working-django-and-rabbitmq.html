<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Working with Python and RabbitMQ</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/stylesheets/screen.css">
</head>
<body class="inner">

<header>   <h1><a href="/">Nathan Borror</a></h1> </header>

<article>

<p><strong>Working with Python and RabbitMQ</strong> â€” I recently installed <a href="http://www.rabbitmq.com/">RabbitMQ</a> to handle some message queuing needs at <a href="http://readernaut.com">Readernaut</a> and thought I'd share how everything came together. If you'd like to learn more about RabbitMQ please read the excellent <a href="http://blogs.digitar.com/jjww/2009/01/rabbits-and-warrens/">Rabbits and Warrens</a>.</p>
<p>To use RabbitMQ with python you need <a href="http://barryp.org/software/py-amqplib/">mqplib</a> because Rabbit uses the <a href="http://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol">AMQP</a> standard. To make amqplib a little easier to use I needed a simple script that did three things:</p>

<ul>
<li>Easy way to connect to RabbitMQ.</li>
<li>Easy way to pull stuff out of the queue.</li>
<li>Easy way to throw stuff into the queue.</li>
</ul>

<p>There's a project called <a href="http://github.com/ask/carrot/tree/master">Carrot</a> which handles all this and much more but it's a little too complex for what I'm doing. All I needed was something very small, straightforward, and EASY.</p>
<p>After staring at Carrot for a few days I decided to distill down what I needed into a single script I'm calling Flopsy (this is what happens when you're coding and watching a movie about <a href="http://en.wikipedia.org/wiki/Beatrix_Potter">Beatrix Potter</a>, right?). So here we go:</p>
<p>Step 1: Set global variables:</p>

<script src="https://gist.github.com/nathanborror/77e37b040d57f6cebdaa8b0d3b607201.js"></script>

<p>And there we go! Flopsy weighs in at under 80 lines of code and it can be found on <a href="http://github.com/nathanborror/flopsy">Github</a>. Most of the above will make a lot more sense after reading the <a href="http://blogs.digitar.com/jjww/2009/01/rabbits-and-warrens/">Rabbits and Warrens article</a> and investigating <a href="http://www.rabbitmq.com/">RabbitMQ</a>.</p>
<p><strong>Update:</strong> I just realized, this isn't at all Django specific so my title is a little misleading (changing). That said, you could most certainly use Flopsy with straight up Python :)</p>

<footer><p><small>May 20, 2009 around 6pm</small></p></footer>

</article>

</body>
</html>
